{% extends "layout.html" %}

{% block head %}
{{ super() }}
{% endblock %}

{% block content %}
<div class="ui grid container">
	<div class="eleven wide column">
		<div class="ui equal width aligned grid">
			<div class="row" style="margin-bottom: 10px">
				<div class="column" style="background-color: #228582; padding:10px 10px 10px 10px; margin-left: 13px">
					<div class="row">
						<p class="status-small">Operation Phase</p>
					</div>
					<div class="row">
						<div class="center aligned column"><h2 class="status-big">ONGOING</h2></div>
					</div>
				</div>
				<div class="column" id="tools-status-background" style="background-color: #228582; padding:10px 10px 10px 10px; margin-left: 10px">
					<div class="row">
						<p class="status-small">Tools Status</p>
					</div>
					<div class="row">
						<div class="center aligned column" ><h2 id="tools-status" class="status-big">COMPLETE</h2></div>
					</div>
				</div>
				<div class="column"></div>
				<div class="column"></div>
			</div>
		</div>
		<div class="aligned column" style="background-color: #228582; padding: 10px 10px 10px 10px">
			<h3 class="status-big">Tools Tracking and Monitoring - Tool Categories in Used</h3>
		</div>
		<div class="ui five columnâ‰ˆ padded grid" style="background-color: white">
			<div class="column center aligned">
				<img class="tools-symbol" src="static/img/scalpel.png">
				<h3>Scalpel</h3>
				<h2 class="green">0</h2>
			</div>
			<div class="column center aligned">
				<img class="tools-symbol" src="static/img/tweezers.png">
				<h3>Tweezer</h3>
				<h2 class="green">0</h2>
			</div>
			<div class="column center aligned">
				<img class="tools-symbol" src="static/img/tonsils-tester.png">
				<h3>Tonsils</h3>
				<h2 class="green">0</h2>
			</div>
			<div class="column center aligned">
				<img class="tools-symbol" src="static/img/syringe.png">
				<h3>Syringe</h3>
				<h2 class="green">0</h2>
			</div>
			<div class="column center aligned">
				<img class="tools-symbol" src="static/img/scissors.png">
				<h3>Scissor</h3>
				<h2 class="green">0</h2>
			</div>
			<div class="column center aligned">
				<img class="tools-symbol" src="static/img/mirror.png">
				<h3>Mirror</h3>
				<h2 class="green">0</h2>
			</div>
			<div class="column center aligned">
				<img class="tools-symbol" src="static/img/hammer.png">
				<h3>Hammer</h3>
				<h2 class="green">0</h2>
			</div>
			<div class="column center aligned">
				<img class="tools-symbol" src="static/img/otoscope.png">
				<h3>Otoscope</h3>
				<h2 class="green">0</h2>
			</div>
			<div class="column center aligned">
				<img class="tools-symbol" src="static/img/medicine.png">
				<h3>Others</h3>
				<h2 class="green" id="count-other">0</h2>
			</div>
		</div>
	</div>
	<div class="five wide column">
		<div class="ui grid">
			<div class="eight wide column" style="width: 150px; background-color: #228582">
				<p class="status-small" >Patient Profile</p>
			</div>
			<div class="eight wide column"></div>
			<div class="content sixteen wide column" style="background-color: white">
				<div class="row">
					<img src="static/img/kristy.png" style="max-width: 150px">
				</div>
				<a href="" class="header">Kristy</a>
				<div class="meta">
					<span class="date">Patient no. 2019312-291</span>
				</div>
				<div class="ui grid description">
					<div class="three wide column">
						<b>Sex</b><br>
						<b>D.o.B</b><br>
						<b>Weight</b><br>
						<b>City</b><br>
					</div>
					<div class="five wide column">
						Female <br>
						12/04/1988 <br>
						75 kg <br>
						Amsterdam <br>
					</div>
					<div class="four wide column">
						<b>Age</b><br>
						<b>Height</b><br>
						<b>Nationality</b><br>
					</div>
					<div class="four wide column">
						38 y.o. <br>
						179 cm <br>
						Dutch <br>
					</div>						
					<div class="eight wide column">
						<b>Emergency contact</b>
					</div>
					<div class="eight wide column">
						+31 6033 7845 
					</div>
				</div>
			</div>
		</div>

		<!-- <div class="ui grid" style="margin-top: 30px">
			<div class="eight wide column" style="width: 150px; background-color: #228582">
				<p class="status-small" >Real Time Detection</p>
			</div>
			<div class="eight wide column"></div>
			<div class="fifteen wide column">
				<img class="ui big image" src="{{ url_for('video_feed') }}" >
			</div>
		</div> -->
	</div>
</div>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
<script type="text/javascript" charset="utf-8">
    var socket = io.connect('http://' + document.domain + ':' + location.port);
    // socket.on('connect', function() {
    //      console.log('connected');
    //      $("#result1").text('connected');
    // });
    // socket.on('message', function(data) {
    //      console.log(data);
    //      // $("#result2").text(data.data);
    //      // $("#result3").text(data.data);
    // });
    socket.on('count', function(data) {
         console.log(data);
         var a = data.data;
         // $("#result3").text(data.data);
         $("#count-other").text(data.data);
         if (a==0){
         	// $("#count-other").fontcolor("green");
         	// document.getElementById("count-other").style.backgroundColor = 'green';
         	document.getElementById("count-other").style.color = 'green';
         	document.getElementById("tools-status-background").style.backgroundColor = '#228582';
         	// document.getElementById("tools-status").text = "COMPLETE";
         	$("#tools-status").text("COMPLETE");
         }else{
         	// $("#count-other").fontcolor("orange")
         	// document.getElementById("count-other").style.backgroundColor = 'orange';
         	document.getElementById("count-other").style.color = 'orange';
         	document.getElementById("tools-status-background").style.backgroundColor = '#ED7D31';
         	// document.getElementById("tools-status").text = "INCOMPLETE";
         	$("#tools-status").text("INCOMPLETE");
         }
    });

    // var socket2 = io.connect('http://192.168.100.41:5000');
    // socket2.on('connect', function() {
    //      console.log('connected');
    //      $("#result1").text('connected');
    // });
    // socket2.on('calculate', function(data) {
    //      console.log(data);
    //      var a = data.data;
    //      $("#result3").text(data.data);
    //      // $("#count-other").text(data.data);
    //      // if (a==0){
    //      // 	// $("#count-other").fontcolor("green");
    //      // 	// document.getElementById("count-other").style.backgroundColor = 'green';
    //      // 	document.getElementById("count-other").style.color = 'green';
    //      // 	document.getElementById("tools-status-background").style.backgroundColor = '#228582';
    //      // 	// document.getElementById("tools-status").text = "COMPLETE";
    //      // 	$("#tools-status").text("COMPLETE");
    //      // }else{
    //      // 	// $("#count-other").fontcolor("orange")
    //      // 	// document.getElementById("count-other").style.backgroundColor = 'orange';
    //      // 	document.getElementById("count-other").style.color = 'orange';
    //      // 	document.getElementById("tools-status-background").style.backgroundColor = '#ED7D31';
    //      // 	// document.getElementById("tools-status").text = "INCOMPLETE";
    //      // 	$("#tools-status").text("INCOMPLETE");
    //      // }
    // });
</script>
<!-- 
 <span id=result1>?</span>
 <span id=result2>?</span>
 <span id=result3>?</span> -->

<!-- Search: <input type="text" id="search_form_input"></input>

<div id="place_for_suggestions"></div>

<script type="text/javascript"
  src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript">
  var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
</script>
<script type=text/javascript>
  $(function() {
    $('a#calculate').bind('click', function() {
      $.getJSON($SCRIPT_ROOT + '/_add_numbers', {
        a: $('input[name="a"]').val(),
        b: $('input[name="b"]').val()
      }, function(data) {
        $("#result").text(data.result);
      });
      return false;
    });
  });
</script>

<h1>jQuery Example</h1>
<p><input type=text size=5 name=a> +
   <input type=text size=5 name=b> =
   <span id=result>?</span>
<p><a href=# id=calculate>calculate server side</a> -->

<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

<script>
$("#search_form_input").keyup(function(){
    var text = $(this).val();

    $.ajax({
      url: "/suggestions",
      type: "get",
      data: {jsdata: text},
      success: function(response) {
        $("#place_for_suggestions").html(response);
      },
      error: function(xhr) {
        //Do Something to handle error
      }
    });
});
</script> -->


{% endblock %}